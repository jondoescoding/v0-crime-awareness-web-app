<!-- 7c470b34-0ec0-4811-9721-176b0991142b 64fd7bff-4888-4fbd-a38f-b78a6b8683c4 -->
# Chat Widget UI Refactor Plan

## Changes Required

Update `frontend/components/crime-chat-widget.tsx` to convert from draggable panel to fixed-position chat widget:

- Remove all drag-related state (`isDragging`, `dragSnapshotRef`, pointer event handlers)
- Remove position state and dynamic positioning logic
- Replace with fixed CSS positioning: bottom-right corner (e.g., `fixed bottom-4 right-4`)
- Keep toggle button that shows/hides the chat panel
- Chat panel appears as overlay above content when open
- Panel dimensions: fixed width (e.g., 380px), max-height (e.g., 600px or 80vh)
- Add proper z-index to ensure panel floats above page content
- Maintain all existing functionality: message history, localStorage, API calls, references

## Implementation Steps

1. Remove drag functionality and position state from component
2. Update panel styling to use fixed positioning with bottom-right alignment
3. Adjust toggle button to be fixed in corner
4. Test that widget appears correctly across all pages
5. Verify chat functionality still works after refactoring

## Testing

- Visual check: widget button appears in bottom-right corner
- Toggle test: clicking button shows/hides panel
- Functional test: can send messages and receive replies
- Navigation test: widget persists across page changes
- Mobile responsive: panel adapts to smaller screens

### To-dos

- [ ] Implement minimal DSPy OpenRouter chat orchestrator and `/chat/ask` endpoint.
- [ ] Build simple chat widget, client helper, and integrate into feed and database pages.
- [ ] Add backend unit tests, frontend component tests, and one Cypress smoke test.